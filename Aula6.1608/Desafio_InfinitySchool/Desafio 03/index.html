<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 3 - Ticket</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Vendedor de Ticket</h1>

<p>Qual o seu primeiro nome:
    <input type="text" id="nome">
</p>

<p>Qual a sua idade:
    <input type="text" id="idade">
</p>

<p>Qual o seu destino:
    <input type="text" id="destino">
</p>

<p>Voc√™ vai levar mala: 
    <select id="mala">
        <option value="sim">Sim</option>
        <option value="n√£o">N√£o</option>
    </select>
</p>

<p>Qual a data da viagem:
    <input type="date" id="data">
</p>    

<button type="button" onclick="confirmar()">Confirmar</button>

<h2>Tickets Cadastrados:</h2>
<div id="lista"></div>

<script>
const pessoas = [];

function confirmar() {
    const nome = document.getElementById("nome").value.trim();
    const idade = document.getElementById("idade").value.trim();
    const destino = document.getElementById("destino").value.trim();
    const mala = document.getElementById("mala").value.toLowerCase();
    const dataInput = document.getElementById("data").value;

    // Validando entrada
    const valNome = /^[A-Za-z√Ä-√ñ√ò-√∂√∏-√ø\s]+$/.test(nome);
    const valDestino = /^[A-Za-z√Ä-√ñ√ò-√∂√∏-√ø\s]+$/.test(destino);
    const valIdade = /^\d+$/.test(idade);
    const valMala = mala === 'sim';

    if (!valNome || !valDestino || !valIdade) {
        alert("Verifique os campos: Nome, Idade ou Destino est√£o inv√°lidos!");
        return;
    }


    const partesData = dataInput.split("-");
    const dataFormatada = `${partesData[2]}/${partesData[1]}/${partesData[0]}`;

    
    const pessoa = {
        nome,
        idade: Number(idade),
        destino,
        mala: valMala,
        data: dataFormatada
    };

   
    pessoas.push(pessoa);

    
    atualizarLista();
    console.log("Tickets cadastrados:", pessoas);

    
    document.getElementById("nome").value = "";
    document.getElementById("idade").value = "";
    document.getElementById("destino").value = "";
    document.getElementById("mala").value = "sim";
    document.getElementById("data").value = "";
}

function atualizarLista() {
    const listaDiv = document.getElementById("lista");
    listaDiv.innerHTML = ""; 

    pessoas.forEach((p, index) => {
        const div = document.createElement("div");
        div.className = "ticket";
        div.innerHTML = `
            <div class="ticket-header">üéüÔ∏è Ticket ${index + 1}</div>
            <div class="ticket-body">
                <strong>Nome:</strong> ${p.nome}<br>
                <strong>Idade:</strong> ${p.idade}<br>
                <strong>Destino:</strong> ${p.destino}<br>
                <strong>Mala:</strong> ${p.mala ? "Sim" : "N√£o"}<br>
                <strong>Data:</strong> ${p.data}
            </div>
        `;
        listaDiv.appendChild(div);
    });
}
</script>


</body>
</html>
