<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sorteio</title>

    <style>
      .hidden {
        display: none;
      }

      .highlight {
        color: green;
      }
    </style>
  </head>
  <body>
    <h1>Sorteio</h1>

    <form id="participante">
      <input
        type="text"
        id="nome"
        name="nome"
        placeholder="Nome do Participante"
      />
      <br />
      <input
        type="email"
        id="email"
        name="email"
        placeholder="Email do Participante"
      />
      <br />

      <button type="submit">Adicionar</button>
    </form>

    <button id="sortear">Sortear</button>
    <p id="resultado" class="hidden">
      O participante <span class="nome highlight"></span> foi sorteado. Entre em
      contato pelo email: <span class="email highlight"></span>
    </p>

    <hr />

    <h2>Participantes</h2>
    <ul id="participantes">
      <li>
        <p>Davi</p>
        <p>davi@email.com</p>
        <button>Remover</button>
      </li>
    </ul>

    <script>
      // Lista de Participantes
      let idCounter = 0;
      const participantes = [];

      function generateId() {
        idCounter += 1;
        return `id-${idCounter}`;
      }

      // Adicionar Participante
      function handleAdicionar(event) {
        const form = event.target;

        // Previnir o Comportamento Padrão do Submit (Recarregar a Página)
        event.preventDefault();

        // 1. Buscar o Nome do Participante
        const participante = {
            id: generateId(),
          nome: form.nome.value, // form.<input-id>.value
          email: form.email.value,
        };

        // Validar os dados do participante...

        participantes.push(participante);
        <!-- UUID(); -->
        // 2. Criar o Elemento de Lista com o Participante
        const liParticipante = document.createElement("li"); // <li></li>
        liParticipante.textContent = `${participante.nome} - ${participante.email}`; // <li>${participante}</li>

        // 3. Adicionar esse elemento a Lista
        // Busca a lista no HTML.
        const ulParticipantes = document.querySelector("#participantes");

        // Adiciona o elemento na Lista.
        ulParticipantes.appendChild(liParticipante);

        form.reset();
        form.nome.focus();
      }

      const formParticipante = document.getElementById("participante");
      formParticipante.addEventListener("submit", handleAdicionar);

      // Sortear
      function handleSortear() {
        // Math.random() * (<fim> - <inicio>) + <inicio>
        const indexSorteado = Math.floor(Math.random() * participantes.length);
        const participanteSorteado = participantes[indexSorteado];

        const pResultado = document.querySelector("#resultado");
        pResultado.classList.remove("hidden");

        const spanNome = pResultado.querySelector(".nome");
        spanNome.textContent = participanteSorteado.nome;

        const spanEmail = pResultado.querySelector(".email");
        spanEmail.textContent = participanteSorteado.email;

        // pResultado.innerHTML = `
        //     O participante <span class="highlight">${participanteSorteado.nome}</span> foi sorteado! Entre em contato pelo email: <span class="highlight">${participanteSorteado.email}</span>
        // `
      }

      const buttonSortear = document.getElementById("sortear");
      buttonSortear.addEventListener("click", handleSortear);
    </script>
  </body>
</html>
